<!DOCTYPE html>
<html xmlns='http://www.w3.org/1999/xhtml'
     xmlns:h='http://java.sun.com/jsf/html'
     xmlns:f='http://java.sun.com/jsf/core'
     xmlns:c="http://java.sun.com/jsp/jstl/core"
     xmlns:p="http://primefaces.org/ui"
     xmlns:ui="http://java.sun.com/jsf/facelets">

    <h:head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    </h:head>
    
    <body>
	<ui:composition>
	<div class="row">
            <div class="span3">
                <img src="img/gallery/gallery-img-1-full.jpg" alt="Gallery"/>
            </div>
            
            <div class="span6" >
                <h2>#{user.lastName} #{user.firstName}</h2>
                <p class="lead">#{cv.title}</p>
                <p>#{cv.description}</p>
		
		<ui:insert>
		    <ui:include src="/WEB-INF/includes/cv/friend-message-buttons.xhtml" />
		</ui:insert>
		
		<ui:insert>
		    <ui:include src="/WEB-INF/includes/cv/share-buttons.xhtml" />
		</ui:insert>
            </div>

            <div class="span3">
                <ui:insert>
		    <ui:include src="/WEB-INF/includes/cv/global-infos.xhtml" />
		</ui:insert>
            </div>
        </div>
	
	<h3 class="title-bg">Compétences</h3>
	<div class="row"> 
	    <ui:insert>
		<ui:include src="/WEB-INF/includes/cv/skills.xhtml" />
	    </ui:insert>
	</div>
	
	<h:form id="cvSections" styleClass="removeBackground">
	    <p:dataGrid id="sections" var="section" value="#{sectionMBean.getUserSectionsByUser(user)}" emptyMessage="Aucune section à afficher." columns="1" layout="grid" paginator="false">	
		<h3 class="title-bg">#{section.title}</h3>
		 
		    <p:dataGrid id="elements" var="element" value="#{sectionMBean.getElementsBySection(section)}" emptyMessage="Aucun élément dans la section." columns="1" layout="tabular" paginator="false">	
			    <div class="span8">
				<h4>#{element.title}</h4>
				<b>#{element.description}</b><br/>
				<i>#{element.informations}</i>
			    </div>
			
			     <div class="span4" style="text-align: right;">
				 <p>#{element.dateStart} - #{element.dateEnd}</p>
			     </div>
		    </p:dataGrid>
		
	    </p:dataGrid>
	</h:form>
	</ui:composition>
    </body>
</html>